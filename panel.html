<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Panel â€“ Martin BÃ­lek</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</head>
<body>
  <nav class="topbar">
    <div class="brand">Martin BÃ­lek â€“ Panel</div>
    <div class="nav-actions">
      <button id="navDashboard" class="link">Dashboard</button>
      <button id="navCompanies" class="link">Firmy</button>
      <button id="navClients" class="link">Klienti</button>
      <button id="navPosts" class="link">PÅ™Ã­spÄ›vky</button>
      <button id="navSettings" class="link">Settings</button>
      <button id="logoutBtn" class="btn-ghost small">OdhlÃ¡sit</button>
    </div>
  </nav>

  <div id="loadingMessage" class="container loading">NaÄÃ­tÃ¡m panelâ€¦</div>

  <main class="container" id="appRoot" style="display:none;">
    <!-- Dashboard -->
    <section id="viewDashboard" class="view">
      <h1>Dashboard</h1>
      <div class="grid">
        <div class="card stat">
          <div class="stat-label">PoÄet firem</div>
          <div class="stat-value" id="statCompanies">â€“</div>
        </div>
        <div class="card stat">
          <div class="stat-label">PoÄet klientÅ¯</div>
          <div class="stat-value" id="statClients">â€“</div>
        </div>
        <div class="card stat">
          <div class="stat-label">NeodeslanÃ© pÅ™Ã­spÄ›vky</div>
          <div class="stat-value" id="statPostsPending">â€“</div>
        </div>
      </div>
    </section>

    <!-- Firmy -->
    <section id="viewCompanies" class="view" style="display:none;">
      <h1>Firmy</h1>
      <div class="card">
        <h3>PÅ™idat firmu</h3>
        <div class="form-grid">
          <div><label>NÃ¡zev</label><input id="coName" placeholder="Conseq" /></div>
          <div><label>Facebook</label><input id="coFb" placeholder="https://facebook.com/..." /></div>
          <div><label>LinkedIn</label><input id="coLi" placeholder="https://linkedin.com/..." /></div>
          <div><label>Web</label><input id="coWeb" placeholder="https://..." /></div>
        </div>
        <div class="row" style="margin-top:12px;">
          <button id="addCompanyBtn" class="btn-primary">PÅ™idat firmu</button>
          <div class="spacer"></div>
          <input type="file" id="importCompaniesInput" accept=".xlsx,.xls,.csv" style="display:none;">
          <button id="importCompaniesBtn" class="btn-ghost small">ğŸ“¥ Import z Excelu</button>
          <button id="exportCompaniesBtn" class="btn-ghost small">ğŸ“¤ Export do Excelu</button>
        </div>
      </div>

      <div class="card">
        <h3>Seznam firem</h3>
        <table class="table" id="companiesTable">
          <thead><tr><th>NÃ¡zev</th><th>Facebook</th><th>LinkedIn</th><th>Web</th><th></th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- Klienti -->
    <section id="viewClients" class="view" style="display:none;">
      <h1>Klienti</h1>
      <div class="card">
        <h3>PÅ™idat / upravit klienta</h3>
        <div class="form-grid">
          <div><label>JmÃ©no</label><input id="clName" /></div>
          <div><label>E-mail</label><input id="clEmail" /></div>
          <div><label>Telefon</label><input id="clPhone" /></div>
          <div style="grid-column:1/-1"><label>PoznÃ¡mka</label><textarea id="clNote"></textarea></div>
        </div>

        <div class="row" style="margin-top:10px;">
          <button id="addClientBtn" class="btn-primary">PÅ™idat klienta</button>
          <button id="cancelEditClientBtn" class="btn-ghost" style="display:none">ZruÅ¡it Ãºpravu</button>
          <div class="spacer"></div>
          <input type="file" id="importClientsInput" accept=".xlsx,.xls,.csv" style="display:none;">
          <button id="importClientsBtn" class="btn-ghost small">ğŸ“¥ Import z Excelu</button>
          <button id="exportClientsBtn" class="btn-ghost small">ğŸ“¤ Export do Excelu</button>
        </div>
      </div>

      <div class="card">
        <h3>Seznam klientÅ¯</h3>
        <table class="table" id="clientsTable">
          <thead><tr><th>JmÃ©no</th><th>E-mail</th><th>Telefon</th><th>PoznÃ¡mka</th><th></th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- PÅ™Ã­spÄ›vky -->
    <section id="viewPosts" class="view" style="display:none;">
      <h1>PÅ™Ã­spÄ›vky</h1>
      <div class="card">
        <h3>NovÃ½ pÅ™Ã­spÄ›vek</h3>
        <div class="form-grid">
          <div><label>SpoleÄnost</label><select id="postCompany"></select></div>
          <div><label>Nadpis</label><input id="postTitle" /></div>
          <div style="grid-column:1/-1"><label>Text</label><textarea id="postContent" rows="6"></textarea></div>
        </div>

        <div class="row" style="margin-top:10px;">
          <button id="genAiBtn" class="btn-ghost">ğŸ¤– VytvoÅ™it shrnutÃ­ (AI)</button>
          <div class="spacer"></div>
          <button id="savePostBtn" class="btn-primary">ğŸ’¾ UloÅ¾it</button>
        </div>

        <div id="aiOutput" class="ai-output" style="display:none;">
          <div class="grid-2">
            <div><label>PÅ™edmÄ›t (AI)</label><input id="aiSubject" /></div>
            <div><label>Skupina</label><input id="aiGroup" readonly /></div>
          </div>
          <label>Text e-mailu (AI)</label>
          <textarea id="aiBody" rows="8"></textarea>

          <!-- NovÃ¡ sekce: sociÃ¡lnÃ­ sÃ­tÄ› firmy -->
          <div id="aiSocials" style="margin-top:12px;font-size:0.9rem;color:#333;">
            <strong>ğŸŒ Odkazy firmy:</strong>
            <ul id="aiLinksList" style="margin:6px 0 0 12px;"></ul>
          </div>
        </div>
      </div>

      <div class="card">
        <h3>NeodeslanÃ© pÅ™Ã­spÄ›vky</h3>
        <table class="table" id="postsTable">
          <thead><tr><th>SpoleÄnost</th><th>Titulek</th><th>Datum</th><th>Stav</th><th></th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- NastavenÃ­ -->
    <section id="viewSettings" class="view" style="display:none;">
      <h1>NastavenÃ­</h1>
      <div class="card">
        <h3>OpenAI</h3>
        <p>VloÅ¾ svÅ¯j OpenAI API klÃ­Ä:</p>
        <input id="openaiKeyInput" placeholder="sk-..." />
        <div class="row" style="margin-top:8px;">
          <button id="saveOpenAiBtn" class="btn-primary">UloÅ¾it</button>
          <button id="clearOpenAiBtn" class="btn-ghost">Smazat</button>
        </div>
      </div>
    </section>
  </main>

  <script type="module" src="app.js"></script>
</body>
</html>
